@model IEnumerable<Task3_V7.Data.Book>
@{
    Layout = null;
    string q = (ViewBag.Q as string) ?? "";
}
<!doctype html>
<html>
<head><meta charset="utf-8"><title>Book search</title></head>
<body>
    <p><a href="/Queries">Back</a></p>
    <h1>Book search</h1>
    <form method="get">
        <label>Book title contains:
            <input name="q" value="@q" />
        </label>
        <button type="submit">Search</button>
    </form>

    <h2>Results</h2>
    @if (Model != null && Model.Any())
    {
        <table border="1" cellpadding="6">
            <thead><tr><th>Title</th><th>Author</th><th>Year</th></tr></thead>
            <tbody>
            @foreach (var b in Model)
            {
                <tr>
                    <td>@b.Title</td>
                    <td>@b.AuthorName</td>
                    <td>@b.YearPublished</td>
                </tr>
            }
            </tbody>
        </table>
    }
    else
    {
        <p>No results.</p>
    }
</body>
</html>